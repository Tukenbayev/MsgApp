<!DOCTYPE html>
<html lang="en" ng-app="MessageApp">
<head>
    <meta charset="UTF-8">
    <title>MessageApp</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.11.0.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
</head>
<body ng-controller="MsgCtrl" ng-cloak>

    <div class="modal fade" id="Modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">{{modalTitle}}</h3>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="message_kz">Message KZ</label>
                        <input type="text" class="form-control  col-xs-6" id="message_kz" ng-model="currentMsg.message_kz" required/>
                    </div>
                    <div class="form-group">
                        <label for="message_ru">Message RU</label>
                        <input type="text" class="form-control  col-xs-6" id="message_ru" ng-model="currentMsg.message_ru" required/>
                    </div>
                    <div class="form-group">
                        <label for="message_en">Message EN</label>
                        <input type="text" class="form-control col-xs-6" id="message_en" ng-model="currentMsg.message_en" required/>
                    </div>
                </div>
                <div class="modal-footer left">
                    <button class="btn btn-primary" ng-click="saveMessage(currentMsg)">Save</button>
                    <button class="btn btn-primary" ng-click="cancel()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-primary">
        <h3 class="panel-heading">MessageApp</h3>
        <div class="panel-body">
            <div>
                <button class="btn btn-primary" ng-click="refresh()">Refresh</button>
                <button class="btn btn-primary" ng-click="editOrCreate()">New</button>
            </div>
            <table class="table table-striped">
                <thead>
                <tr>
                    <td>id</td>
                    <td>Message (kz)</td>
                    <td>Message (ru)</td>
                    <td>Message (en)</td>
                    <td></td>
                    <td></td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="message in messages.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage))">
                    <td>{{message.id}}</td>
                    <td>{{message.message_kz}}</td>
                    <td>{{message.message_ru}}</td>
                    <td>{{message.message_en}}</td>
                    <td class="text-center">
                        <button class="btn btn-xs btn-primary" ng-click="delete(message)">
                            Delete
                        </button>
                        <button class="btn btn-xs btn-primary" ng-click="editOrCreate(message)">
                            Edit
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <pagination total-items="totalItems" ng-model="currentPage" max-size="maxSize" class="pagination-sm"
                boundary-links="true" rotate="false" num-pages="numPages" items-per-page="itemsPerPage"></pagination>
</body>
</html>